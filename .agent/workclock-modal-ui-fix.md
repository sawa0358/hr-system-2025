# 勤務時間記録モーダルのUI修正

## 実装内容

### 1. 回数パターンのみの計上時のデフォルト時刻設定

**変更箇所**: `components/workclock/time-entry-dialog.tsx`

#### 実装詳細:
- 「回数パターンのみで計上」を選択した場合、開始時刻・終了時刻を自動的に「0:00」に設定
- これにより実働時間が0時間となり、回数のみで報酬を計算する仕組みを実現

#### 動作:
1. **モーダルを開いた時**: 
   - 回数パターンのみを持つワーカーの場合、初期値として「0:00」～「0:00」が設定される
   
2. **計上方法を変更した時**:
   - 「回数パターンのみで計上」に切り替えると、時刻が「0:00」～「0:00」に変更される
   - 「回数パターンのみ」から他の計上方法に切り替えると、通常の時刻（9:00～18:00など）に戻る

### 2. 登録済み勤務記録の表示改善

**変更箇所**: `components/workclock/time-entry-dialog.tsx`

#### 実装詳細:
PDF出力と同じ形式で勤務記録を表示するように変更:

- **時間帯**: 開始時刻 - 終了時刻
- **休憩**: 休憩時間（分）
- **実働時間**: 計算された実働時間
- **パターン**: 時給パターンまたは回数パターンの詳細
  - 時給パターン例: `1時間0分／9時間0分パターン（¥1,200）`
  - 回数パターン例: `回数Aパターン（1回×¥1,500）`
  - 両方の場合: `1時間0分／9時間0分パターン（¥1,200） ＋ 回数Aパターン（1回×¥1,500）`
- **小計**: パターンに基づいて計算された金額（¥12,300など）
- **メモ**: 作業内容（`[メモ]` ラベル付き）

#### 表示内容:
- 日付情報は削除（モーダルのヘッダーに既に表示されているため）
- PDF出力と同じ計算ロジックを使用して、パターンラベルと金額を表示
- レスポンシブ対応（`flex-wrap`）で長い情報も適切に表示

## 技術的な詳細

### 計算ロジック
PDF出力（`lib/workclock/pdf-export.tsx`）と同じロジックを使用:

```typescript
// 時給パターンの計算
const rate = pattern === 'A' ? worker.hourlyRate : 
             pattern === 'B' ? worker.hourlyRateB : 
             worker.hourlyRateC
const hours = duration.hours + duration.minutes / 60
const hourlyAmount = Math.floor(hours * rate)

// 回数パターンの計算
const countAmount = count * countRate

// 小計
const subtotal = hourlyAmount + countAmount
```

### UIの改善点
1. パターン情報と金額が一目で分かる
2. PDF出力と同じ表示形式で統一感がある
3. 長い情報も折り返して表示される（`flex-wrap`）
4. メモには`[メモ]`ラベルを付けて視認性を向上

## 影響範囲
- `components/workclock/time-entry-dialog.tsx`: 勤務時間記録モーダルのみ
- 既存の機能には影響なし
- PDF出力の表示形式と統一

## テスト項目
1. ✅ 回数パターンのみを持つワーカーでモーダルを開いた時、時刻が「0:00」～「0:00」になる
2. ✅ 計上方法を「回数パターンのみ」に変更すると時刻が「0:00」になる
3. ✅ 計上方法を「回数パターンのみ」から他に変更すると通常の時刻に戻る
4. ✅ 登録済み勤務記録にパターン情報と金額が表示される
5. ✅ 時給パターンと回数パターンの両方がある場合、両方が表示される
6. ✅ メモに`[メモ]`ラベルが付く
