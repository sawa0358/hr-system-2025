# å®Œå…¨ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—æ‰‹é †

## ğŸ“¦ ãƒ•ã‚©ãƒ«ãƒ€ã”ã¨ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã™ã‚‹å ´åˆã®æ‰‹é †

### 1. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ˜ç¤ºçš„ã«ã‚³ãƒ”ãƒ¼

```bash
# ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—å…ˆã«ã‚³ãƒ”ãƒ¼
cp prisma/dev.db [ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—å…ˆ]/database-backup-$(date +%Y%m%d_%H%M%S).db

# ã¾ãŸã¯ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆã«ã‚³ãƒ”ãƒ¼ã—ã¦ã‹ã‚‰ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—
cp prisma/dev.db ./database-backup-$(date +%Y%m%d_%H%M%S).db
```

### 2. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¹ã‚­ãƒ¼ãƒã®ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆï¼ˆæ¨å¥¨ï¼‰

```bash
# SQLã‚¹ã‚­ãƒ¼ãƒã®ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ
sqlite3 prisma/dev.db ".schema" > database-schema-$(date +%Y%m%d_%H%M%S).sql

# ãƒ‡ãƒ¼ã‚¿ã¨ã‚¹ã‚­ãƒ¼ãƒã®å®Œå…¨ãƒ€ãƒ³ãƒ—
sqlite3 prisma/dev.db ".dump" > database-dump-$(date +%Y%m%d_%H%M%S).sql
```

### 3. å®Œå…¨ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ç”¨ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆå®Ÿè¡Œ

```bash
# å°‚ç”¨ã®ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å®Ÿè¡Œ
node scripts/backup-complete.js
```

## ğŸ”„ å¾©å…ƒæ–¹æ³•

### æ–¹æ³•1: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰å¾©å…ƒ

```bash
# ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã—ãŸDBãƒ•ã‚¡ã‚¤ãƒ«ã‚’å¾©å…ƒ
cp database-backup-YYYYMMDD_HHMMSS.db prisma/dev.db

# Prismaã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚’å†ç”Ÿæˆ
npx prisma generate

# é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã‚’å†èµ·å‹•
npm run dev
```

### æ–¹æ³•2: SQLãƒ€ãƒ³ãƒ—ã‹ã‚‰å¾©å…ƒ

```bash
# SQLãƒ€ãƒ³ãƒ—ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰å¾©å…ƒ
sqlite3 prisma/dev.db < database-dump-YYYYMMDD_HHMMSS.sql

# Prismaã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚’å†ç”Ÿæˆ
npx prisma generate
```

### æ–¹æ³•3: Prismaã‚¹ã‚­ãƒ¼ãƒã‹ã‚‰å†æ§‹ç¯‰

```bash
# Prismaã‚¹ã‚­ãƒ¼ãƒã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’å†æ§‹ç¯‰
npx prisma db push

# ã‚·ãƒ¼ãƒ‰ãƒ‡ãƒ¼ã‚¿ãŒã‚ã‚Œã°æŠ•å…¥
npx prisma db seed
```

## ğŸ“ æ³¨æ„äº‹é …

1. **ç’°å¢ƒå¤‰æ•°ãƒ•ã‚¡ã‚¤ãƒ«**: `.env`ãƒ•ã‚¡ã‚¤ãƒ«ã¯åˆ¥é€”ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãŒå¿…è¦ã§ã™
2. **ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ãƒ•ã‚¡ã‚¤ãƒ«**: `uploads/`ãƒ•ã‚©ãƒ«ãƒ€ã¯åˆ¥é€”ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãŒå¿…è¦ã§ã™
3. **S3ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸**: S3ã«ä¿å­˜ã•ã‚Œã¦ã„ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã¯ã‚¯ãƒ©ã‚¦ãƒ‰ã«ä¿ç®¡ã•ã‚Œã¦ã„ã¾ã™
4. **æœ¬ç•ªç’°å¢ƒ**: PostgreSQLã®å ´åˆã¯ã€ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ€ãƒ³ãƒ—ãŒå¿…è¦ã§ã™

## âœ… æ¨å¥¨ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—æ‰‹é †

### è‡ªå‹•ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®ä½¿ç”¨

```bash
# å®Œå…¨ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ï¼ˆæ¨å¥¨ï¼‰
npm run backup:complete

# ã¾ãŸã¯
node scripts/backup-complete.js
```

ã“ã‚Œã«ã‚ˆã‚Šä»¥ä¸‹ãŒå®Ÿè¡Œã•ã‚Œã¾ã™ï¼š
- ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ•ã‚¡ã‚¤ãƒ«ã®ã‚³ãƒ”ãƒ¼
- SQLã‚¹ã‚­ãƒ¼ãƒã®ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ
- ãƒ‡ãƒ¼ã‚¿ãƒ€ãƒ³ãƒ—ã®ä½œæˆ
- ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã®è¨˜éŒ²

